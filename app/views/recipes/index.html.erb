<div class="jumbotron">
  <h1>Recipes</h1>
  <p class="btn-group">
  <%= link_to 'Add new recipe', "#newRecipe", 'data-toggle' => 'modal', class: 'btn btn-default btn-lg' %>
  </p>
</div>

<!-- Modal -->
<div class="modal fade" id="newRecipe">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Add recipe</h4>
      </div>
      <div class="modal-body">
        <%= render 'recipes/form', recipe: @recipe %>
      </div>
    </div>
  </div>
</div>
<!-- End Modal -->

<main class="container">
  <section class="row">
    <h1>Recipes</h1>
  </section>
  <section class="row">
    <% @recipes.order("lower(title) ASC").each do |recipe| %>
    <div class="col-sm-4">
      <% @recipe = recipe %>
      <%= recipe.title %>
      <%= link_to 'show', recipe %>
      <%= link_to 'edit', "#editRecipe_#{recipe.id}", 'data-toggle' => 'modal' %>

<!-- Modal -->
      <div class="modal fade" id="editRecipe_<%= recipe.id%>" >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Edit recipe</h4>
            </div>
            <div class="modal-body">
              <%= render 'recipes/form', recipe: @recipe %>
            </div>
          </div>
        </div>
      </div>
<!-- End Modal -->

      <%= link_to 'delete', recipe, method: :delete, data: { confirm: 'Are you sure?' } %>
    </div>
    <% end %>
    <br>
  </section>

</main>

